# loginViewController
受实习僧和今日头条的登录界面的启发，自己砸包拿图结合两者的亮点做了这个框架（来回变换颜色的背景和父视图的景深效果），同时加入了自己做项目的特点，整合了不同状态下的登录界面，满足不同情况下的需求。先看效果图，为了背景颜色看起来平滑，GIF有点大，如果刷不出来或者动不起来，建议直接下载运行demo看，或者下载GIF看。

1.正常登录注册情景

![image](https://github.com/lly4155/loginViewController/blob/master/resource/first.gif)

2.登录成功后进行密码修改情景

![image](https://github.com/lly4155/loginViewController/blob/master/resource/second.gif)

3.在其他界面使用需要登录后才有的功能时

![image](https://github.com/lly4155/loginViewController/blob/master/resource/third.gif)


----------------------------------------------------------分割线--------------------------------------

亮点：

1、缓慢平移的背景图，给人一种渐变色变幻的视觉效果，纯色也能玩出高大上。

2、父视图的景深动画配合登录界面的卡片式弹出动画，让界面都动起来~

3、确认按钮的定制动画让登录注册也非常好玩。（用到了Google的Spinner动画）

4、应用logo的透明闪烁，结合不断变换的背景色，相互衬托，突出一个精致。（使用了Facebook的shimmer动画）

5、细节方面，使用XIB布局，高度已经制定好，避免了正常高度的键盘遮挡输入框问题，但5S屏幕较小，牺牲了下方label提示效果，5S之前的没有适配测试；采用大量圆角透明效果，让界面更加简洁。

6、做好了第三方登录的入口，只需要将自己相关的社会化组件方法填入即可。

----------------------------------------------------------分割线--------------------------------------

usage：

1、在需要登录功能的控制器中导入  #import "loginViewController.h"

2、在需要弹出登录界面的地方调用 [[loginViewController sharedLoginViewWithModel:你想显示的模式]showAndSuperController:self];

3、大功告成，所有内部操作都不要外界关心，内部的逻辑大部分也写好了，例如手机号的正则检测，发送验证码的倒计时效果，不同状态下同一个textfield的键盘类型，输入文字是否加密，placeHolder，内容清除type等繁琐步骤都设置好了，如果有遗漏欢迎指出。

----------------------------------------------------------分割线--------------------------------------

补充：

1、登录视图采用单例模式，方便在任何地方唤出，也保证了出现时的动画流畅不卡顿，同时单例模式也防止了发送验证码的一个小问题，大部分登录界面在发送验证码后退出视图重进其按钮又被重置了，在这里会一直倒计时直至结束

2、使用本地沙盒保存了第一次登录成功后的账号，方便下次登录直接输入密码，如果还需要自动填充密码的话，可以自行设置。

3、因为模块功能的原因，内部很多需要与自己后台交互的地方需要根据自己的业务去做，我在需要自己写功能的地方给出了warning标注，可能也有不全的地方，还需自己体验，同时第三方的功能和第三方短信验证等业务，也需要自己去做响应修改调整，以及本地的个人信息存储。

4、因个人项目没有用到其他方式注册或登录，比如邮箱注册等，还会涉及到邮箱发确认邮件等功能，所以有需要的还是要自己做修改。

5、目前有发现在iOS9.3.2系统下，点击手机注册后，UIview动画执行完后又回到之前的位置bug，目前还没查找出本质原因，如果有这种现象，先确认下是否是版本问题。

^. ^ 觉得好用就给个星星吧，哪里不好用也麻烦给我issue，欢迎大牛指点

----------------------------------------------------------v1.1更新--------------------------------------

主要修复了在第一次动画未执行完的时候退出视图，然后第二次唤出界面的时候，背景直接跳到最后结果，并且等待定时器倒计时结束后才继续平移的bug。

解决方案：我在viewdidappear中重置了背景视图的offset以及移动方向和重新生成定时器，确保每次出现都是最开始的样子，同时在返回到主视图的方法backToSuperVC中注销了定时器。

